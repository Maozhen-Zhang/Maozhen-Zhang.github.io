---
layout: post
title: Python数据格式转换
description: tensor、numpy等数据转换形式
date: 2023-05-22
---



# 数据格式转换

> numpy、tensor

## numpy数组转tensor张量

使用

- 方法一： tensor A = torch.tensor(numpy B)
- 方法二： tensor A = torch.from_numpy(numpy B)

```python
#导入包
import numpy as np
import torch

#方法一
arr_numpy = np.random.normal(0, 1, (2, 3))
arr_tensor = torch.tensor(arr_numpy)

#方法二
arr_numpy = np.random.normal(0, 1, (4, 5))
arr_tensor = torch.from_numpy(arr_numpy)
```

## tensor张量转numpy数组

使用

- 方法一：numpy A = t.numpy(tensor B)
- 方法二：numpy A = tensor B.detach().numppu()

```python
import numpy as np
import torch

#方法一
t = torch.arange(1, 10).reshape(3, 3)
x = t.numpy()
t,x

#方法二
x = t.detach().numpy() # 用了detach()，不需要计算梯度了
```

## 张量转其他

使用`.item()`将张量转化为单独的数值进行输出

```python
a = torch.tensor(1)
a.item()

t = torch.arange(10)
t1 = t.tolist()  #张量转化为列表
t2 = list(t)
t,t1,t2
```